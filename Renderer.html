<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>WebGL渲染器</title>
    <link rel="stylesheet" href="./MainStyle.css">
    <link rel="stylesheet" href="./CodeEditorStyle.css">

    <link rel="stylesheet" href="./highlight/MyHighlight.min.css">
    <script src="./highlight/highlight.min.js"></script>
</head>

<body>
    <div class="layout">
        <div class="renderer">
            <canvas class="gl-canvas">请使用支持Canvas的浏览器</canvas>
            <!-- <canvas class="hud-canvas" style="z-index: 1;">请使用支持Canvas的浏览器</canvas> -->
            <div class="hud">
                <div class="center-hud">
                    <div class='iconfont'>&#xe8fc;</div>
                    <div class='text'>加载中···</div>
                </div>
            </div>
        </div>

        <section class="code-editor">
            <div class="toggle-code iconfont">&#xe6f2;</div>
            <div class="resize-handler"></div>
            <div class="tabs">
                <!-- <div class="tab enable">Example</div> -->
            </div>
            <div class="panels">
                <!-- <code contenteditable="true" class="panel enable">Example</code> -->
            </div>
            <div class="footer">
                <button class="apply-code iconfont">&#xe600;</button>
            </div>
        </section>
    </div>

    <script src="./Lib/webgl-utils.js"></script>
    <script src="./Lib/webgl-debug.js"></script>
    <script src="./Lib/cuon-utils.js"></script>
    <script src="./Lib/cuon-matrix.js"></script>

    <script src="./Actor.js"></script>
    <script src="./Texture.js"></script>
    <script src="./Shader.js"></script>
    <script src="./Material.js"></script>
    <script src="./Model.js"></script>
    <script src="./Scene.js"></script>
    <script src="./WebGLRenderer.js"></script>
    <script src="./FunctionLibrary.js"></script>

    <script>
        let renderer;
        let request = new XMLHttpRequest();

        request.onreadystatechange = () => {
            if (request.readyState === 4 && request.status !== 404) {
                let customJS = request.responseText;

                renderer = new WebGLRenderer();
                renderer.customJS = customJS;
                renderer.start();
            }
        }
        request.open('GET', './CustomScript.js', true);
        request.send();
    </script>
</body>

</html>